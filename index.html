<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8" />
    <title>Hello World!</title>
    <!-- https://electronjs.org/docs/tutorial/security#csp-meta-tag -->
    <meta
      http-equiv="Content-Security-Policy"
      content="script-src 'self' 'unsafe-inline';"
    />
    <!-- https://developer.mozilla.org/en-US/docs/Web/HTTP/CSP -->
    <!-- <meta http-equiv="Content-Security-Policy" content="default-src 'self'; script-src 'self'">
    <meta http-equiv="X-Content-Security-Policy" content="default-src 'self'; script-src 'self'"> -->
    <script>
      /**
       * OS 알림 설정
       */
      // const myNotification = new Notification('test-electron Title', {
      //     body: 'noti test'
      // })
      // myNotification.onclick = () => {
      //     console.log('Notification clicked')
      // }

      /**
       * 화면 우클릭 메뉴 설정
       */
      const { remote } = require("electron");
      const { Menu, MenuItem } = remote;

      const menu = new Menu();
      menu.append(
        new MenuItem({
          label: "MenuItem1",
          click() {
            console.log("item 1 clicked");
          },
        })
      );
      menu.append(new MenuItem({ type: "separator" }));
      menu.append(
        new MenuItem({ label: "MenuItem2", type: "checkbox", checked: true })
      );

      window.addEventListener(
        "contextmenu",
        (e) => {
          e.preventDefault();
          menu.popup({ window: remote.getCurrentWindow() });
        },
        false
      );
    </script>
  </head>
  <body>
    <h1>Hello World!</h1>
    We are using Node.js <span id="node-version"></span>, Chromium
    <span id="chrome-version"></span>, and Electron
    <span id="electron-version"></span>. <br /><br />(inline)<br />
    We are using node
    <script>
      document.write(process.versions.node + "<br>");
    </script>
    Chrome
    <script>
      document.write(process.versions.chrome + "<br>");
    </script>
    and Electron
    <script>
      document.write(process.versions.electron + "<br>");
    </script>
    platform
    <script>
      document.write(process.platform + "<br>");
    </script>
    arch
    <script>
      document.write(process.arch + "<br>");
    </script>
    <br /><br />
    <a href="#" id="drag">클릭하여 드래그해보세요~~</a>
    <script>
      const { ipcRenderer } = require("electron");
      document.getElementById("drag").ondragstart = (event) => {
        event.preventDefault();
        ipcRenderer.send("ondragstart", `${__dirname}/test.gif`);
      };
    </script>
    <br /><br />
    <a href="#" onclick="testAlert()">alert</a>
    <script src="./renderer.js"></script>
    <br /><br />
    <a href="http://www.iniline.co.kr">이니라인 홈페이지</a>
    <br /><br />
    <a href="https://www.naver.com">네이버</a>
  </body>
</html>
